###############################################################################
# Privoxy configuration - Docker minimal + anonymisation
###############################################################################

# Port d'écoute
listen-address 0.0.0.0:3128

# Logs désactivés pour Docker
logdir /dev/null
logfile /dev/null

# Fichiers d'action et filtres
#actionsfile standard
actionsfile /etc/privoxy/default.action
actionsfile /etc/privoxy/user.action
filterfile /etc/privoxy/default.filter
filterfile /etc/privoxy/user.filter

# Pas d'interface web admin exposée
toggle 0
enable-remote-toggle 0
enable-remote-http-toggle 0


# Forwarder (optionnel) : exemple pour TOR SOCKS5
# forward-socks5 / 127.0.0.1:9050 .

###############################################################################
# Notes :
# - Mettre tes règles de nettoyage des headers dans user.action et user.filter
# - Exemple user.action :
#   { +filter{remove_proxy_headers} } /
# - Exemple user.filter :
#   FILTER remove_proxy_headers
#   s/^(X-Forwarded-For:.*)$/X-Forwarded-For: removed/Ig
#   s/^(Via:.*)$/Via: removed/Ig
#   s/^(Forwarded:.*)$/Forwarded: removed/Ig
#   s/^(Proxy-Connection:.*)$/Proxy-Connection: removed/Ig
#   s/^(Client-IP:.*)$/Client-IP: removed/Ig
###############################################################################
